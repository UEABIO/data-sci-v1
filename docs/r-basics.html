<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 R Basics | 5023Y</title>
<meta name="author" content="Philip T. Leftwich">
<meta name="description" content="To load packages we use the function library(). Typically you would start any analysis script by loading all of the packages you need. The tidyverse is an opinionated collection of R packages...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 2 R Basics | 5023Y">
<meta property="og:type" content="book">
<meta property="og:url" content="https://ueabio.github.io/data-sci/r-basics.html">
<meta property="og:image" content="https://ueabio.github.io/data-sci/images/logos/twitter_card.png">
<meta property="og:description" content="To load packages we use the function library(). Typically you would start any analysis script by loading all of the packages you need. The tidyverse is an opinionated collection of R packages...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 R Basics | 5023Y">
<meta name="twitter:description" content="To load packages we use the function library(). Typically you would start any analysis script by loading all of the packages you need. The tidyverse is an opinionated collection of R packages...">
<meta name="twitter:image" content="https://ueabio.github.io/data-sci/images/logos/twitter_card.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.13/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1.9000/transition.js"></script><script src="libs/bs3compat-0.3.1.9000/tabs.js"></script><script src="libs/bs3compat-0.3.1.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/font-awesome-5.13.0/js/script.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script language="javascript"> 
        function toggle(id) {
            var ele = document.getElementById("toggleText" + id);
            var text = document.getElementById("displayText" + id);
            var buttonText = text.innerHTML.replace("Show ", "");
            buttonText = buttonText.replace("Hide ", "");
            if(ele.style.display == "block") {
                ele.style.display = "none";
                text.innerHTML = "Show " + buttonText;
            } else {
                ele.style.display = "block";
                text.innerHTML = "Hide " + buttonText;
            }
        } 
    </script><script language="javascript">
        function openCode(evt, codeName, id) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent" + id);
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks" + id);
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(codeName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script><script language="javascript">
        function hide(id){
            document.getElementById(id).style.display = "none";
        }
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Data Science for Biologists">5023Y</a>:
        <small class="text-muted">Data Science for Biologists</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li class="book-part">Get Started in R</li>
<li><a class="" href="introduction-to-r-and-rstudio.html"><span class="header-section-number">1</span> Introduction to R and RStudio</a></li>
<li><a class="active" href="r-basics.html"><span class="header-section-number">2</span> R Basics</a></li>
<li class="book-part">Exploring Data</li>
<li><a class="" href="loading-data.html"><span class="header-section-number">3</span> Loading data</a></li>
<li><a class="" href="data-wrangling-part-one.html"><span class="header-section-number">4</span> Data wrangling part one</a></li>
<li><a class="" href="data-wrangling-part-two.html"><span class="header-section-number">5</span> Data wrangling part two</a></li>
<li><a class="" href="data-visualisation-with-ggplot2.html"><span class="header-section-number">6</span> Data visualisation with ggplot2</a></li>
<li class="book-part">Literate Programming and Reproducibility</li>
<li><a class="" href="markdown.html"><span class="header-section-number">7</span> Markdown</a></li>
<li><a class="" href="github.html"><span class="header-section-number">8</span> Github</a></li>
<li class="book-part">R Programming</li>
<li><a class="" href="functions-1.html"><span class="header-section-number">9</span> Functions</a></li>
<li class="book-part">Advanced Data Insights</li>
<li><a class="" href="data-insights-part-one.html"><span class="header-section-number">10</span> Data Insights part one</a></li>
<li><a class="" href="data-insights-part-two.html"><span class="header-section-number">11</span> Data insights part two</a></li>
<li class="book-part">Statistics</li>
<li><a class="" href="introduction-to-statistics.html"><span class="header-section-number">12</span> Introduction to statistics</a></li>
<li><a class="" href="introduction-to-linear-models.html"><span class="header-section-number">13</span> Introduction to Linear Models</a></li>
<li><a class="" href="testing.html"><span class="header-section-number">14</span> Testing</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">15</span> Regression</a></li>
<li><a class="" href="anova.html"><span class="header-section-number">16</span> ANOVA</a></li>
<li><a class="" href="multivariate-linear-models.html"><span class="header-section-number">17</span> Multivariate linear models</a></li>
<li><a class="" href="complex-models.html"><span class="header-section-number">18</span> Complex models</a></li>
<li><a class="" href="generalized-linear-models.html"><span class="header-section-number">19</span> Generalized Linear Models</a></li>
<li class="book-part">Advanced topics</li>
<li><a class="" href="mixed-models.html"><span class="header-section-number">20</span> Mixed models</a></li>
<li><a class="" href="generalised-additive-models.html"><span class="header-section-number">21</span> Generalised Additive Models</a></li>
<li><a class="" href="survival-models.html"><span class="header-section-number">22</span> Survival models</a></li>
<li><a class="" href="unsupervised-machine-learning.html"><span class="header-section-number">23</span> Unsupervised Machine Learning</a></li>
<li><a class="" href="power-analysis.html"><span class="header-section-number">24</span> Power analysis</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">25</span> Iteration</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="installing-r.html"><span class="header-section-number">A</span> Installing R</a></li>
<li><a class="" href="updating-r-rstudio-and-packages.html"><span class="header-section-number">B</span> Updating R, RStudio, and packages</a></li>
<li><a class="" href="exporting-files-from-the-server.html"><span class="header-section-number">C</span> Exporting files from the server</a></li>
<li><a class="" href="symbols.html"><span class="header-section-number">D</span> Symbols</a></li>
<li><a class="" href="baser.html"><span class="header-section-number">E</span> Base R vs. Tidyverse</a></li>
<li><a class="" href="license.html">License</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/UEABIO/data-sci-v1">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-basics" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> R Basics<a class="anchor" aria-label="anchor" href="#r-basics"><i class="fas fa-link"></i></a>
</h1>
<p>To load packages we use the function <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>. Typically you would start any analysis script by loading all of the packages you need.</p>
<p>The <a href="https://www.tidyverse.org/">tidyverse</a> is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures. This means the functions across the tidyverse are all designed to work together and make the process of data science easier.</p>
<div id="using-packages" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Using packages<a class="anchor" aria-label="anchor" href="#using-packages"><i class="fas fa-link"></i></a>
</h2>
<p>Run the below code to load the tidyverse package. You can do this regardless of whether you are using your own computer or the cloud.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
<p>You will get what looks like an error message - it's not. It's just R telling you what it's done. You should <strong>read this</strong> it gives you a full list of the packages it has made available to you. One of these should look familiar to you from last week?</p>
<p><select class="webex-select"><option value="blank"></option>
<option value="answer">ggplot2</option>
<option value="">tibble</option>
<option value="">tidyr</option>
<option value="">dplyr</option></select></p>
<p>Now that we've loaded the <code>tidyverse</code> package we can use <strong>any</strong> of the functions it contains but remember, you need to run the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function every time you start R.</p>
<div class="webex-solution">
<button>
Install the tidyverse. You DO NOT need to do this on RStudio Cloud.
</button>
<p>In order to use a package, you must first install it. The following code installs the package tidyverse, a package we will use very frequently.</p>
<p>If you are working on your own computer, use the below code to install the tidyverse.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></code></pre></div>
<p>You only need to install a package once, however, each time you start R you need to load the packages you want to use, in a similar way that you need to install an app on your phone once, but you need to open it every time you want to use it.</p>
</div>
<p><br></p>
<div class="danger">
<p>
If you get an error message that says something like "WARNING: Rtools is required to build R packages" you may need to download and install an extra bit of software called <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.
</p>
</div>
</div>
<div id="package-updates" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Package updates<a class="anchor" aria-label="anchor" href="#package-updates"><i class="fas fa-link"></i></a>
</h2>
<p>In addition to updates to R and R Studio, the creators of packages also sometimes update their code. This can be to add functions to a package, or it can be to fix errors. One thing to avoid is unintentionally updating an installed package. When you run <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> it will always install the latest version of the package and it will overwrite any older versions you may have installed. Sometimes this isn't a problem, however, sometimes you will find that the update means your code no longer works as the package has changed substantially. It is possible to revert back to an older version of a package but try to avoid this anyway.</p>
<div class="danger">
<p>
To avoid accidentally overwriting a package with a later version, you should <strong>never</strong> include <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> in your analysis scripts in case you, or someone else runs the code by mistake. Remember, the server will already have all of the packages you need for this course so you only need to install packages if you are using your own machine.
</p>
</div>
</div>
<div id="package-conflicts" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Package conflicts<a class="anchor" aria-label="anchor" href="#package-conflicts"><i class="fas fa-link"></i></a>
</h2>
<p>There are thousands of different R packages with even more functions. Unfortunately, sometimes different packages have the same function names. For example, the packages <code>dplyr</code> and <code>MASS</code> both have a function named <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>. If you load both of these packages, R will produce a warning telling you that there is a conflict.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span></code></pre></div>
<pre><code>package �dplyr� was built under R version 3.6.3
Attaching package: �dplyr�

The following objects are masked from �package:stats�:

    filter, lag

The following objects are masked from �package:base�:

    intersect, setdiff, setequal, union


Attaching package: �MASS�

The following object is masked from �package:dplyr�:

    select</code></pre>
<p>In this case, R is telling you that the function <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> in the <code>dplyr</code> package is being hidden (or 'masked') by another function with the same name. If you were to try and use <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>, R would use the function from the package that was loaded most recently - in this case it would use the function from <code>MASS</code>.</p>
<p>If you want to specify which package you want to use for a particular function you can use code in the format <code>package::function</code>, for example:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/lm.ridge.html">select</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="info">
<p>
Why do we get naming conflicts?
</p>
<p>
This is because R is open source software. Anyone can write and submit useful R packages. As a result it is impossible to make sure that there are NEVER any functions with identical names.
</p>
</div>
</div>
<div id="objects" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Objects<a class="anchor" aria-label="anchor" href="#objects"><i class="fas fa-link"></i></a>
</h2>
<p>A large part of your coding will involve creating and manipulating objects. Objects contain stuff, and we made our first R objects in the previous chapter. The values contained in an object can be numbers, words, or the result of operations and analyses.You assign content to an object using <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code>.</p>
<div id="activity-1-create-some-objects" class="section level3" number="2.4.1">
<h3>
<span class="header-section-number">2.4.1</span> Activity 1: Create some objects<a class="anchor" aria-label="anchor" href="#activity-1-create-some-objects"><i class="fas fa-link"></i></a>
</h3>
<p>Copy and paste the following code into the console, change the code so that it uses your own name and age and run it. You should see that <code>name</code>, <code>age</code>, <code>today</code>, <code>new_year</code>, and <code>data</code> appear in the environment pane.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"emily"</span>
<span class="va">age</span> <span class="op">&lt;-</span> <span class="fl">16</span> <span class="op">+</span> <span class="fl">19</span> 
<span class="va">today</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">new_year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2022-01-01"</span><span class="op">)</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">15</span>, sd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p>What command should we use if you need <code>help</code> to understand the function <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code>?</p>
<p><input class="webex-solveme nospaces" size="11" data-answer='["help(rnorm)"]'></p>
<p>`</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-objects-enviro"></span>
<img src="images/objects-enviro.png" alt="Objects in the environment" width="100%"><p class="caption">
Figure 2.1: Objects in the environment
</p>
</div>
<p>Note that in these examples, <code>name</code>,<code>age</code>, and <code>new_year</code> would always contain the values <code>emily</code>, <code>35</code>, and the date of New Year's Day 2021, however, <code>today</code> will draw the date from the operating system and <code>data</code> will be a randomly generated set of data so the values of these objects will not be static.</p>
<p>As a side note, if you ever have to teach programming and statistics, don't use your age as an example because every time you have to update your teaching materials you get a reminder of the fragility of existence and your advancing age. 2021 update: I have now given up updating my age, I will remain forever 35.</p>
<p>Importantly, objects can be involved in calculations and can interact with each other. For example:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">age</span> <span class="op">+</span> <span class="fl">10</span>
<span class="va">new_year</span> <span class="op">-</span> <span class="va">today</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 45
## Time difference of -216 days
## [1] 16.63193</code></pre>
<p>Finally, you can store the result of these operations in a new object:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">decade</span> <span class="op">&lt;-</span> <span class="va">age</span> <span class="op">+</span> <span class="fl">10</span></code></pre></div>
<div class="info">
<p>
You may find it helpful to read <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> as <code>contains</code>, e.g., <code>name</code> contains the text <code>emily</code>.
</p>
</div>
<p>You will constantly be creating objects throughout this course and you will learn more about them and how they behave as we go along, however, for now it is enough to understand that they are a way of saving values, that these values can be numbers, text, or the result of operations, and that they can be used in further operations to create new variables.</p>
<div class="info">
<p>
You may also see objects referred to as 'variables'. There is a difference between the two in programming terms, however, they are used synonymously very frequently.
</p>
</div>
</div>
</div>
<div id="vectors" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Vectors<a class="anchor" aria-label="anchor" href="#vectors"><i class="fas fa-link"></i></a>
</h2>
<p>We have been working with R objects containing a single element of data, but we will more commonly work with vectors. A vector is a <em>sequence</em> of elements, <strong>all of the same data type</strong>. These could be logical, numerical, character etc.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">numeric_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>

<span class="va">character_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fruits"</span>, <span class="st">"vegetables"</span>, <span class="st">"seeds"</span><span class="op">)</span>

<span class="va">logical_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>The function <code>c</code> lets you 'concatenate' or link each of these separate elements together into a single vector.</p>
</div>
<div id="dataframes-and-tibbles" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> Dataframes and tibbles<a class="anchor" aria-label="anchor" href="#dataframes-and-tibbles"><i class="fas fa-link"></i></a>
</h2>
<p>No we have looked at R objects that contain:</p>
<ul>
<li><p>single elements of data</p></li>
<li><p>multiple elements of the same data type - vectors</p></li>
</ul>
<p>But most often when we import data into R it is put into an object called a <strong>tibble</strong> which is a type of <strong>dataframe</strong>.</p>
<div class="info">
<p>
A dataframe is data structure that organises data into a table. Dataframes can have a mix of different types of data in them. Each column in a dataframe is a different vector, and each row is a different element within the vectors.
</p>
</div>
<p>Let's have a quick go at making our own <strong>tibble</strong> from scratch.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># make some variables/ vectors</span>
<span class="va">person</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mark"</span>, <span class="st">"Phil"</span>, <span class="st">"Becky"</span>, <span class="st">"Tony"</span><span class="op">)</span>

<span class="va">hobby</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"kickboxing"</span>, <span class="st">"coding"</span>, <span class="st">"dog walking"</span>, <span class="st">"car boot sales"</span><span class="op">)</span>

<span class="va">awesomeness</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">100</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span></code></pre></div>
<div class="try">
<p>
Use <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> on an object or vector to find out important information, like the data type of each vector and how many elements it contains.
</p>
</div>
<p>Now we put these vectors together, where they become the variables in a new tibble using the function <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code></p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># make a tibble</span>
<span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span><span class="va">person</span>, <span class="va">hobby</span>, <span class="va">awesomeness</span><span class="op">)</span>
<span class="va">my_data</span></code></pre></div>
<pre><code># A tibble: 4 x 3
  person hobby          awesomeness
  &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;
1 Mark   kickboxing               1
2 Phil   coding                 100
3 Becky  dog walking              1
4 Tony   car boot sales           1</code></pre>
<p>Have a go at messing about with your script and figure out what each of the functions below does.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Some R functions for looking at tibbles and dataframes</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">my_data</span>, n<span class="op">=</span><span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">my_data</span>, n<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span>
<span class="fu">view</span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span>
<span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span></code></pre></div>
</div>
<div id="organising-data-in-wide-and-long-formats" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Organising data in wide and long formats<a class="anchor" aria-label="anchor" href="#organising-data-in-wide-and-long-formats"><i class="fas fa-link"></i></a>
</h2>
<p>There are two main conventions for dataframes in R, these are <em>wide</em> and <em>long</em> formats.</p>
<ul>
<li><p>A wide data format does not repeat values in the first column, data relating to the same "measured thing" are found in different columns</p></li>
<li><p>A long data format is where we have a <strong>different</strong> column for each type of thing we have measures in our data. Each <em>variable</em> has a unique column.</p></li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-shapes"></span>
<img src="images/data_shapes.png" alt="A visual representation of long and wide format data shapes" width="100%"><p class="caption">
Figure 2.2: A visual representation of long and wide format data shapes
</p>
</div>
<p>While neither <em>wide</em> or <em>long</em> data is more correct than the other, we will work with <em>long</em> data as it is clearer how many distinct types of variables there are in our data <em>and</em> the tools we will be using from the <code>tidyverse</code> are designed to work with <em>long</em> data.</p>
</div>
<div id="using-pivot-functions" class="section level2" number="2.8">
<h2>
<span class="header-section-number">2.8</span> Using <code>pivot</code> functions<a class="anchor" aria-label="anchor" href="#using-pivot-functions"><i class="fas fa-link"></i></a>
</h2>
<p>There are functions found as part of the <code>tidyverse</code> that can help us to reshape data.</p>
<ul>
<li><p><code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">tidyr::pivot_wider()</a></code> - from <em>long</em> to <em>wide</em> format</p></li>
<li><p><code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">tidyr::pivot_longer()</a></code> - from <em>wide</em> to <em>long</em> format</p></li>
</ul>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="va">country</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span><span class="op">)</span>
 <span class="va">yr1960</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>
 <span class="va">yr1970</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">23</span>, <span class="fl">33</span><span class="op">)</span>
 <span class="va">yr2010</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">25</span>, <span class="fl">35</span><span class="op">)</span>

<span class="va">country_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span><span class="va">country</span>, <span class="va">yr1960</span>, <span class="va">yr1970</span>, <span class="va">yr2010</span><span class="op">)</span>
<span class="va">country_data</span></code></pre></div>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
yr1960
</th>
<th style="text-align:right;">
yr1970
</th>
<th style="text-align:right;">
yr2010
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
x
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
y
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:left;">
z
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
35
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pivot_longer</span><span class="op">(</span>data <span class="op">=</span> <span class="va">country_data</span>,
             cols <span class="op">=</span> <span class="va">yr1960</span><span class="op">:</span><span class="va">yr2010</span>,
             names_to <span class="op">=</span> <span class="st">"year"</span>,
             names_prefix <span class="op">=</span> <span class="st">"yr"</span>,
             values_to <span class="op">=</span> <span class="st">"metric"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-pivot"></span>
<img src="images/tidyr_pivot.png" alt="Reshaping data with pivot" width="100%"><p class="caption">
Figure 2.3: Reshaping data with pivot
</p>
</div>
<p>To <em>save</em> these changes to your data format, you must assign this to an object, and you have two options</p>
<ul>
<li><p>Use the same name as the original R object, this will <em>overwrite</em> the original with the new format</p></li>
<li><p>Use a <em>new</em> name for the reformatted data both R objects will exist in your Environment</p></li>
</ul>
<p>Neither is more <em>correct</em> than the other but be aware of what you are doing.</p>
<div id="overwrite-the-original-object" class="section level3" number="2.8.1">
<h3>
<span class="header-section-number">2.8.1</span> Overwrite the original object<a class="anchor" aria-label="anchor" href="#overwrite-the-original-object"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">country_data</span> <span class="op">&lt;-</span> <span class="fu">pivot_longer</span><span class="op">(</span>data <span class="op">=</span> <span class="va">country_data</span>,
             cols <span class="op">=</span> <span class="va">yr1960</span><span class="op">:</span><span class="va">yr2010</span>,
             names_to <span class="op">=</span> <span class="st">"year"</span>,
             names_prefix <span class="op">=</span> <span class="st">"yr"</span>,
             values_to <span class="op">=</span> <span class="st">"metric"</span><span class="op">)</span></code></pre></div>
</div>
<div id="create-a-new-r-object" class="section level3" number="2.8.2">
<h3>
<span class="header-section-number">2.8.2</span> Create a new r object<a class="anchor" aria-label="anchor" href="#create-a-new-r-object"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">long_country_data</span> <span class="op">&lt;-</span> <span class="fu">pivot_longer</span><span class="op">(</span>data <span class="op">=</span> <span class="va">country_data</span>,
             cols <span class="op">=</span> <span class="va">yr1960</span><span class="op">:</span><span class="va">yr2010</span>,
             names_to <span class="op">=</span> <span class="st">"year"</span>,
             names_prefix <span class="op">=</span> <span class="st">"yr"</span>,
             values_to <span class="op">=</span> <span class="st">"metric"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="looking-after-the-environment" class="section level2" number="2.9">
<h2>
<span class="header-section-number">2.9</span> Looking after the environment<a class="anchor" aria-label="anchor" href="#looking-after-the-environment"><i class="fas fa-link"></i></a>
</h2>
<p>If you've been writing a lot of code you may find that the environment pane (or workspace) has become cluttered with many objects. This can make it difficult to figure out which object you need and therefore you run the risk of using the wrong data frame. If you're working on a new dataset, or if you've tried lots of different code before getting the final version, it is good practice to remember to clear the environment to avoid using the wrong object. You can do this in several way.</p>
<ol style="list-style-type: decimal">
<li>To remove individual objects, you can type <code><a href="https://rdrr.io/r/base/rm.html">rm(object_name)</a></code> in the console. Try this now to remove one of the objects you created in the previous section.</li>
<li>To clear all objects from the environment run <code><a href="https://rdrr.io/r/base/rm.html">rm(list = ls())</a></code> in the console.</li>
<li>To clear all objects from the environment you can also click the broom icon in the environment pane.</li>
</ol>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-broom"></span>
<img src="images/broom.png" alt="Clearing the workspace" width="100%"><p class="caption">
Figure 2.4: Clearing the workspace
</p>
</div>
</div>
<div id="global-options" class="section level2" number="2.10">
<h2>
<span class="header-section-number">2.10</span> Global options<a class="anchor" aria-label="anchor" href="#global-options"><i class="fas fa-link"></i></a>
</h2>
<p>By default, when you open R Studio it will show you what you were last working on, including your code and any objects you have created. This might sound helpful, but actually it tends to cause more problems than it's worth because it means that you risk accidentally using an old version of an object. We recommend changing the settings so that each time you start R Studio, it opens a fresh copy. You can do this by clicking <code>Tools</code> - <code>Global Options</code> and then deselecting boxes so that it looks like the below.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-options"></span>
<img src="images/session.png" alt="Set these options to increase reproducibility" width="100%"><p class="caption">
Figure 2.5: Set these options to increase reproducibility
</p>
</div>
<div class="warning">
<p>
Restore .RData into workspace at startup <code>r mcq(c("checked", answer = "unchecked"))</code>
</p>
<p>
Save workspace to .RData on exit <code>r mcq(c("Always", answer = "Never", "Ask))</code>
</p>
</div>
</div>
<div id="r-sessions" class="section level2" number="2.11">
<h2>
<span class="header-section-number">2.11</span> R sessions<a class="anchor" aria-label="anchor" href="#r-sessions"><i class="fas fa-link"></i></a>
</h2>
<p>When you open up R and start writing code, loading packages, and creating objects, you're doing so in a new <strong>session</strong>. In addition to clearing the workspace, it can sometimes be useful to start a new session. This will happen automatically each time you start R on your computer, although sessions can persist on the cloud. If you find that your code isn't working and you can't figure out why, it might be worth starting a new session. This will clear the environment and detach all loaded packages - think of it like restarting your phone.</p>
</div>
<div id="activity-2" class="section level2" number="2.12">
<h2>
<span class="header-section-number">2.12</span> Activity 2<a class="anchor" aria-label="anchor" href="#activity-2"><i class="fas fa-link"></i></a>
</h2>
<p>Click 'Session - Restart R'.</p>
<p>Have you tried turning it off and on again? It is vital to restart R regularly. Restarting R helps to avoid accidentally using the wrong data or functions stored in the environment. Restarting R only takes a second and we do it several times per day! Once you get used to saving everything in a script, you’ll always be happy to restart R. This will help you develop robust and reproducible data analysis skills.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-session"></span>
<img src="images/new_session.png" alt="The truth about programming" width="100%"><p class="caption">
Figure 2.6: The truth about programming
</p>
</div>
<div class="info">
<p>
This does not mean you can’t or shouldn’t ever save your work in .RData/.rda files.
</p>
<p>
But it is best to do it consciously and load exactly what you want to load. Letting R silently save and load everything for you may also include broken data or objects.
</p>
</div>
</div>
<div id="how-to-cite-r-and-rstudio" class="section level2" number="2.13">
<h2>
<span class="header-section-number">2.13</span> How to cite R and RStudio<a class="anchor" aria-label="anchor" href="#how-to-cite-r-and-rstudio"><i class="fas fa-link"></i></a>
</h2>
<p>You may be some way off writing a scientific report where you have to cite and reference R, however, when the time comes it is important to do so to the people who built it (most of them for free!) credit. You should provide separate citations for R, RStudio, and the packages you use.</p>
<p>To get the citation for the version of R you are using, simply run the <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code> function which will always provide you with he most recent citation.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html">citation</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## To cite R in publications use:
## 
##   R Core Team (2019). R: A language and environment for statistical
##   computing. R Foundation for Statistical Computing, Vienna, Austria.
##   URL https://www.R-project.org/.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {R: A Language and Environment for Statistical Computing},
##     author = {{R Core Team}},
##     organization = {R Foundation for Statistical Computing},
##     address = {Vienna, Austria},
##     year = {2019},
##     url = {https://www.R-project.org/},
##   }
## 
## We have invested a lot of time and effort in creating R, please cite it
## when using it for data analysis. See also 'citation("pkgname")' for
## citing R packages.</code></pre>
<p>To generate the citation for any packages you are using, you can also use the <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code> function with the name of the package you wish to cite.</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html">citation</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></code></pre></div>
<pre><code>## 
##   Wickham et al., (2019). Welcome to the tidyverse. Journal of Open
##   Source Software, 4(43), 1686, https://doi.org/10.21105/joss.01686
## 
## A BibTeX entry for LaTeX users is
## 
##   @Article{,
##     title = {Welcome to the {tidyverse}},
##     author = {Hadley Wickham and Mara Averick and Jennifer Bryan and Winston Chang and Lucy D'Agostino McGowan and Romain François and Garrett Grolemund and Alex Hayes and Lionel Henry and Jim Hester and Max Kuhn and Thomas Lin Pedersen and Evan Miller and Stephan Milton Bache and Kirill Müller and Jeroen Ooms and David Robinson and Dana Paige Seidel and Vitalie Spinu and Kohske Takahashi and Davis Vaughan and Claus Wilke and Kara Woo and Hiroaki Yutani},
##     year = {2019},
##     journal = {Journal of Open Source Software},
##     volume = {4},
##     number = {43},
##     pages = {1686},
##     doi = {10.21105/joss.01686},
##   }</code></pre>
<p>To generate the citation for the version of RStudio you are using, you can use the <code>RStudio.Version()</code> function:</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">RStudio.Version</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Finally, here's an example of how that might look in the write-up of your method section:</p>
<blockquote>
<p>Analysis was conducted using R ver 4.0.0 (R Core Team, 2020), RStudio (Rstudio Team, 2020), and the tidyverse range of packages (Wickham, 2017).</p>
</blockquote>
<p>As noted, you may not have to do this for a while, but come back to this when you do as it's important to give the open-source community credit for their work.</p>
</div>
<div id="help-and-additional-resources" class="section level2" number="2.14">
<h2>
<span class="header-section-number">2.14</span> Help and additional resources<a class="anchor" aria-label="anchor" href="#help-and-additional-resources"><i class="fas fa-link"></i></a>
</h2>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-kitteh"></span>
<img src="images/kitteh.PNG" alt="The truth about programming" width="100%"><p class="caption">
Figure 2.7: The truth about programming
</p>
</div>
<p>Getting good at programming really means getting good trying stuff out, searching for help online, and finding examples of code to copy. If you are having difficulty with any of the exercises contained in this book then you can ask for help on Teams, however, learning to problem-solve effectively is a key skill that you need to develop throughout this course.</p>
<ul>
<li>Use the help documentation. If you're struggling to understand how a function works, remember the <code>?function</code> and <code>help()</code> command.</li>
<li>If you get an error message, copy and paste it in to Google - it's very likely someone else has had the same problem.</li>
<li>Rememver to ask for help on the course Yammer page</li>
<li>In addition to these course materials there are a number of excellent resources for learning R:
<ul>
<li><a href="http://www.cookbook-r.com/">R Cookbook</a></li>
<li><a href="https://stackoverflow.com/">StackOverflow</a></li>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
<li>Search or use the <a href="https://twitter.com/search?f=tweets&amp;q=%23rstats&amp;src=typd">#rstats</a> hashtag on Twitter</li>
</ul>
</li>
</ul>
</div>
<div id="debugging-tips" class="section level2" number="2.15">
<h2>
<span class="header-section-number">2.15</span> Debugging tips<a class="anchor" aria-label="anchor" href="#debugging-tips"><i class="fas fa-link"></i></a>
</h2>
<p>A large part of coding is trying to figure why your code doesn't work and this is true whether you are a novice or an expert. As you progress through this course you should keep a record of mistakes you make and how you fixed them. In each chapter we will provide a number of common mistakes to look out for but you will undoubtedly make (and fix!) new mistakes yourself.</p>
<ul>
<li>Have you loaded the correct packages for the functions you are trying to use? One very common mistake is to write the code to load the package, e.g., <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> but then forget to run it.</li>
<li>Have you made a typo? Remember <code>data</code> is not the same as <code>DATA</code> and <code>t.test</code> is not the same as <code>t_test</code>.</li>
<li>Is there a package conflict? Have you tried specifying the package and function with <code>package::function</code>?</li>
<li>Is it definitely an error? Not all red text in R means an error - sometimes it is just giving you a message with information.</li>
</ul>
</div>
<div id="activity-7-test-yourself" class="section level2" number="2.16">
<h2>
<span class="header-section-number">2.16</span> Activity 7: Test yourself<a class="anchor" aria-label="anchor" href="#activity-7-test-yourself"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Question 1.</strong> Why should you never include the code <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> in your analysis scripts? <select class="webex-select"><option value="blank"></option>
<option value="">You should use library() instead</option>
<option value="">Packages are already part of Base R</option>
<option value="answer">You (or someone else) may accidentally install a package update that stops your code working</option>
<option value="">You already have the latest version of the package</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>Remember, when you run <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> it will always install the latest version of the package and it will overwrite any older versions of the package you may have installed.</p>
</div>
<p><br><strong>Question 2.</strong> What will the following code produce?</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">50</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p><select class="webex-select"><option value="blank"></option>
<option value="">A dataset with 10 numbers that has a mean of 6 and an SD of 50</option>
<option value="answer">A dataset with 6 numbers that has a mean of 50 and an SD of 10</option>
<option value="">A dataset with 50 numbers that has a mean of 10 and an SD of 6</option>
<option value="">A dataset with 50 numbers that has a mean of 10 and an SD of 6</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>The default form for <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code> is <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm(n, mean, sd)</a></code>. If you need help remembering what each argument of a function does, look up the help documentation by running <code><a href="https://rdrr.io/r/stats/Normal.html">?rnorm</a></code></p>
</div>
<p><br><strong>Question 3.</strong> If you have two packages that have functions with the same name and you want to specify exactly which package to use, what code would you use?</p>
<p><select class="webex-select"><option value="blank"></option>
<option value="answer">package::function</option>
<option value="">function::package</option>
<option value="">library(package)</option>
<option value="">install.packages(package)</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>You should use the form <code>package::function</code>, for example <code><a href="https://dplyr.tidyverse.org/reference/select.html">dplyr::select</a></code>. Remember that when you first load your packages R will warn you if any functions have the same name - remember to look out for this!</p>
</div>
<p><strong>Question 4.</strong> Which of the following is most likely to be an argument? <select class="webex-select"><option value="blank"></option>
<option value="">read_csv()</option>
<option value="answer">35</option>
<option value="">&lt;-</option></select></p>
<p><strong>Question 5.</strong> An easy way to spot functions is to look for <select class="webex-select"><option value="blank"></option>
<option value="">computers</option>
<option value="answer">brackets</option>
<option value="">numbers</option></select>.</p>
<p><strong>Question 6.</strong> The job of <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> is to send the output from the function to a/an <select class="webex-select"><option value="blank"></option>
<option value="answer">object</option>
<option value="">assignment</option>
<option value="">argument</option></select>.</p>
<p><strong>Question 7.</strong> A vector must always contain elements of the same data type (e.g logical, character, numeric) <select class="webex-select"><option value="blank"></option>
<option value="">FALSE</option>
<option value="answer">TRUE</option></select>.</p>
<p><strong>Question 8.</strong> A dataframe/tibble must always contain elements of the same data type <select class="webex-select"><option value="blank"></option>
<option value="answer">FALSE</option>
<option value="">TRUE</option></select></p>

</div>
</div>



<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    license
  );
});
</script><div class="chapter-nav">
<div class="prev"><a href="introduction-to-r-and-rstudio.html"><span class="header-section-number">1</span> Introduction to R and RStudio</a></div>
<div class="next"><a href="loading-data.html"><span class="header-section-number">3</span> Loading data</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-basics"><span class="header-section-number">2</span> R Basics</a></li>
<li><a class="nav-link" href="#using-packages"><span class="header-section-number">2.1</span> Using packages</a></li>
<li><a class="nav-link" href="#package-updates"><span class="header-section-number">2.2</span> Package updates</a></li>
<li><a class="nav-link" href="#package-conflicts"><span class="header-section-number">2.3</span> Package conflicts</a></li>
<li>
<a class="nav-link" href="#objects"><span class="header-section-number">2.4</span> Objects</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#activity-1-create-some-objects"><span class="header-section-number">2.4.1</span> Activity 1: Create some objects</a></li></ul>
</li>
<li><a class="nav-link" href="#vectors"><span class="header-section-number">2.5</span> Vectors</a></li>
<li><a class="nav-link" href="#dataframes-and-tibbles"><span class="header-section-number">2.6</span> Dataframes and tibbles</a></li>
<li><a class="nav-link" href="#organising-data-in-wide-and-long-formats"><span class="header-section-number">2.7</span> Organising data in wide and long formats</a></li>
<li>
<a class="nav-link" href="#using-pivot-functions"><span class="header-section-number">2.8</span> Using pivot functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#overwrite-the-original-object"><span class="header-section-number">2.8.1</span> Overwrite the original object</a></li>
<li><a class="nav-link" href="#create-a-new-r-object"><span class="header-section-number">2.8.2</span> Create a new r object</a></li>
</ul>
</li>
<li><a class="nav-link" href="#looking-after-the-environment"><span class="header-section-number">2.9</span> Looking after the environment</a></li>
<li><a class="nav-link" href="#global-options"><span class="header-section-number">2.10</span> Global options</a></li>
<li><a class="nav-link" href="#r-sessions"><span class="header-section-number">2.11</span> R sessions</a></li>
<li><a class="nav-link" href="#activity-2"><span class="header-section-number">2.12</span> Activity 2</a></li>
<li><a class="nav-link" href="#how-to-cite-r-and-rstudio"><span class="header-section-number">2.13</span> How to cite R and RStudio</a></li>
<li><a class="nav-link" href="#help-and-additional-resources"><span class="header-section-number">2.14</span> Help and additional resources</a></li>
<li><a class="nav-link" href="#debugging-tips"><span class="header-section-number">2.15</span> Debugging tips</a></li>
<li><a class="nav-link" href="#activity-7-test-yourself"><span class="header-section-number">2.16</span> Activity 7: Test yourself</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/UEABIO/data-sci-v1/blob/main/book/02-programming-basics.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/UEABIO/data-sci-v1/edit/main/book/02-programming-basics.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>5023Y</strong>: Data Science for Biologists" was written by Philip T. Leftwich. It was last built on 2022-10-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
